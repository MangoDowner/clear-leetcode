# 148.排序链表-1.md

题目描述：
```
给定链表``L0->L1->L2…Ln-1->Ln``，把链表重新排序为``L0->Ln->L1->Ln-1->L2->Ln-2…``。

要求：
①在原来链表的基础上进行排序，即不能申请新的结点；
②只能修改结点的next域，不能修改数据域。
```

### 解题思路
* 1、首先找到链表的中间结点；
* 2、对链表的后半部分子链表进行逆序；
* 3、把链表的前半部分子链表与逆序后的后半部分子链表进行合并，
合并的思路为：分别从两个链表各取一个结点进行合并

### 代码
```golang
func sortList(head *ListNode) *ListNode {
	if head == nil || head.Next == nil {
		return head
	}
	firstHalf := head  // 前半部分链表第一个节点
	mid := findMiddleNode(head)
	secondHalf := reverseList(mid) // 后半部分链表逆序后第一个节点
	for firstHalf.Next != nil {
		firstHalf, firstHalf.Next = firstHalf.Next, secondHalf
		secondHalf, secondHalf.Next = secondHalf.Next, secondHalf
	}
	firstHalf.Next = secondHalf
	return head
}

// 找到链表中间节点，并把链表从中间截断为两个链表
func findMiddleNode(head *ListNode) *ListNode {
	fast, slow, slowPre := head, head, head
	for fast != nil && fast.Next != nil {
		slowPre, slow, fast = slow, slow.Next, fast.Next.Next
	}
	// 分割链表为两部分
	slowPre.Next = nil
	return slow
}

// 反转链表
func reverseList(head *ListNode) *ListNode {
	var pre, cur, next *ListNode
	pre, cur, next = nil, head, head
	for cur != nil {
		next = cur.Next
		cur.Next = pre
		pre = cur
		cur = next
	}
	return pre
}
```