# 1863. 找出所有子集的异或总和再求和
一个数组的 异或总和 定义为数组中所有元素按位 XOR 的结果；如果数组为 空 ，则异或总和为 0 。

例如，数组[2,5,6] 的 异或总和 为 2 XOR 5 XOR 6 = 1 。
给你一个数组 nums ，请你求出 nums 中每个 子集 的 异或总和 ，计算并返回这些值相加之 和 。

注意：在本题中，元素 相同 的不同子集应 多次 计数。

数组 a 是数组 b 的一个 子集 的前提条件是：从 b 删除几个（也可能不删除）元素能够得到 a 。

示例 1：
```
输入：nums = [1,3]
输出：6
解释：[1,3] 共有 4 个子集：
- 空子集的异或总和是 0 。
- [1] 的异或总和为 1 。
- [3] 的异或总和为 3 。
- [1,3] 的异或总和为 1 XOR 3 = 2 。
  0 + 1 + 3 + 2 = 6
```
示例 2：
```
输入：nums = [5,1,6]
输出：28
解释：[5,1,6] 共有 8 个子集：
- 空子集的异或总和是 0 。
- [5] 的异或总和为 5 。
- [1] 的异或总和为 1 。
- [6] 的异或总和为 6 。
- [5,1] 的异或总和为 5 XOR 1 = 4 。
- [5,6] 的异或总和为 5 XOR 6 = 3 。
- [1,6] 的异或总和为 1 XOR 6 = 7 。
- [5,1,6] 的异或总和为 5 XOR 1 XOR 6 = 2 。
  0 + 5 + 1 + 6 + 4 + 3 + 7 + 2 = 28
```
示例 3：
```
输入：nums = [3,4,5,6,7,8]
输出：480
解释：每个子集的全部异或总和值之和为 480 。
```

提示：
```
1 <= nums.length <= 12
1 <= nums[i] <= 20
```

## 递归
### 解题思路
见代码

### 代码

```csharp
public class Solution
{
    public int SubsetXORSum(int[] nums)
    {
        var res = 0;
        var n = nums.Length;

        void dfs(int val, int idx)
        {
            if (idx == n)
            {
                // 终止递归
                res += val;
                return;
            }

            // 考虑选择当前数字
            dfs(val ^ nums[idx], idx + 1);
            // 考虑不选择当前数字
            dfs(val, idx + 1);
        }


        dfs(0, 0);
        return res;
    }
}
```
## 遍历
### 解题思路
+ 一个长度为 n 的数组 nums 有 2^n 个子集（包括空集与自身）。我们可以将这些子集一一映射到
``[0 , 2 ^ n − 1]``中的整数。
+ 数组中的每个元素都有「选取」与「未选取」两个状态，可以对应一个二进制位的 1与0 ， 
  那么对于一个长度为 n 的数组 nums，我们也可以用 n 个二进制位的整数来唯一表示每个元素的选取情况。
  此时该整数第 j 位的取值表示数组第 j 个元素是否包含在对应的子集中。

### 代码
```csharp
public class Solution
{
    public int SubsetXORSum(int[] nums)
    {
        var result = 0;
        var n = nums.Length;
        for (var i = 0; i < 1 << n; ++i)
        {
            // 遍历所有子集
            var tmp = 0;
            for (var j = 0; j < n; j++)
            {
                // 遍历每个元素
                if ((i & (1 << j)) != 0)
                {
                    tmp ^= nums[j];
                }
            }

            result += tmp;
        }

        return result;
    }
}
```